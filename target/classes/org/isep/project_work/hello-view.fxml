<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.MainController">

    <top>
        <HBox style="-fx-background-color: #1a237e; -fx-padding: 15;">
            <Label text="ðŸ“Š Portfolio Dashboard" style="-fx-text-fill: white; -fx-font-size: 20;"/>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="âž• Add" fx:id="addPortfolioButton"
                    style="-fx-background-color: #4caf50; -fx-text-fill: white;"
                    onAction="#handleAddPortfolio"/>

            <Button text="ðŸ”„ Refresh" fx:id="refreshButton"
                    style="-fx-background-color: #2196f3; -fx-text-fill: white;"
                    onAction="#handleRefresh"/>

            <Button text="ðŸšª Logout" fx:id="logoutButton"
                    style="-fx-background-color: #666; -fx-text-fill: white;"
                    onAction="#handleLogout"/>
        </HBox>
    </top>

    <center>
        <VBox spacing="20" style="-fx-padding: 20;">
            <HBox spacing="20">
                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Total Value" style="-fx-text-fill: #666;"/>
                    <Label fx:id="totalValueLabel" text="$0"
                           style="-fx-text-fill: #1a237e; -fx-font-size: 32;"/>
                    <Label fx:id="dailyChangeLabel" text="+0%"
                           style="-fx-text-fill: #4caf50;"/>
                </VBox>

                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Portfolios" style="-fx-text-fill: #666;"/>
                    <Label fx:id="portfolioCountLabel" text="0"
                           style="-fx-text-fill: #2196f3; -fx-font-size: 32;"/>
                </VBox>
            </HBox>

            <HBox spacing="20">
                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Performance Chart" style="-fx-text-fill: #333;"/>
                    <LineChart fx:id="performanceChart" prefHeight="300" prefWidth="500">
                        <xAxis>
                            <CategoryAxis label="Month"/>
                        </xAxis>
                        <yAxis>
                            <NumberAxis label="Value ($)"/>
                        </yAxis>
                    </LineChart>
                </VBox>

                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Asset Allocation" style="-fx-text-fill: #333;"/>
                    <PieChart fx:id="allocationChart" prefHeight="300" prefWidth="300"/>
                </VBox>
            </HBox>

            <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;">
                <Label text="Your Portfolios" style="-fx-text-fill: #333;"/>
                <ListView fx:id="portfolioList" prefHeight="150"/>
            </VBox>
        </VBox>
    </center>

    <bottom>
        <HBox style="-fx-background-color: #f5f5f5; -fx-padding: 10;">
            <Label text="Status: Connected" style="-fx-text-fill: #666;"/>
        </HBox>
    </bottom>
</BorderPane>